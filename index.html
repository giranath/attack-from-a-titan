<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Animation titanesque</title>
  <style>
    
    body {
      background-color: #282828; 
    }
    
    section {
      width: 800px;
      height: 600px;
      margin-left: auto;
      margin-right: auto;
    }

  </style>

  <script type="application/javascript" src="calcul.js"></script>
  <script type="application/javascript" src="entity.js"></script>
  <script type="application/javascript" src="world.js"></script>
  <script type="application/javascript" src="animation.js"></script>
  <script type="application/javascript">

    function rawr()
    {
      var XD = document.getElementById("saart");
      var mouse = {x: 0, y: 0};

      document.addEventListener('mousemove', function(e){ 
          mouse.x = e.clientX || e.pageX; 
          mouse.y = e.clientY || e.pageY;
          XD.innerHTML = mouse.x + " ; " + mouse.y;
      }, false);
    }

    
  
    function armmove(event){
      var cal = new calcul();
      var res = cal.calculAllPoint(270,435,event.clientX-560,(event.clientY-71));
      var up = document.getElementById("upperarm");
      var knee = document.getElementById("knee");
      var fore = document.getElementById("forearm");
      up.setAttribute("x2",res[1].x);
      up.setAttribute("y2",res[1].y);
      knee.setAttribute("cx",res[1].x);
      knee.setAttribute("cy",res[1].y);
      fore.setAttribute("x1",res[1].x);
      fore.setAttribute("y1",res[1].y);
      fore.setAttribute("x2",res[2].x);
      fore.setAttribute("y2",res[2].y);
    }
  </script>
</head>
<body onload="setup();rawr();">
  <section onmousemove='armmove(event);'>
  <h1 id="saart">Animation titanesque</h1>
  <svg id="canvas" width="800" height="600">
    <!-- Le canvas SVG -->
    <rect x="0" y="0" width="800" height="600" fill="#7EC0EE" />
    <g id="entity" transform="translate(270, 50)">
      <use id="corps" xlink:href="assets/body.svg#corps" transform="translate(0, 250)"></use>
      <use id="tete" xlink:href="assets/head.svg#tete" transform="translate(7)"></use>
    </g>
    <line id="upperarm" x1="270" y1="435" x2="370" y2="435" style="stroke:rgb(221,160,106);stroke-width:100"/>
    <line id="forearm" x1="370" y1="435" x2="470" y2="435" style="stroke:rgb(221,160,106);stroke-width:100"/>
    <circle cx="270" cy="435" r="50" style="fill:rgb(221,160,106);"/>
    <circle id="knee" cx="270" cy="435" r="50" style="fill:rgb(221,160,106);"/>
  </svg> 
    <!-- Fin du canvas SVG -->
  
  </section>
</body>
</html>
